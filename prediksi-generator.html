<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sorkat Generator Prediksi - Paste Sekaligus</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #111;
      color: #eee;
      margin: 0;
      padding: 20px;
      line-height: 1.6;
    }
    h1, h2 {
      text-align: center;
      color: #28A745;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
    }
    textarea {
      width: 100%;
      min-height: 220px;
      padding: 14px;
      border: 1px solid #444;
      border-radius: 8px;
      background: #1a1a1a;
      color: #e0e0e0;
      font-family: 'Courier New', Courier, monospace;
      font-size: 15px;
      resize: vertical;
      margin-bottom: 20px;
    }
    button {
      background: #28A745;
      color: white;
      border: none;
      padding: 16px 30px;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      font-weight: bold;
      margin: 15px 0;
    }
    button:hover {
      background: #218838;
    }
    #result {
      background: #0f0f0f;
      padding: 18px;
      border: 2px solid #28A745;
      border-radius: 8px;
      margin-top: 30px;
      display: none;
    }
    pre {
      white-space: pre-wrap;
      word-break: break-word;
      font-family: 'Courier New', Courier, monospace;
      color: #0f0;
      margin: 0;
    }
    .note {
      color: #aaa;
      font-size: 0.9em;
      text-align: center;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Sorkat Generator Prediksi Bola</h1>
  <p class="note">Paste teks prediksi seperti ini (boleh banyak liga sekaligus):</p>
  <pre class="note" style="background:#222; padding:12px; border-radius:6px; color:#0f0;">
ENGLISH PREMIER LEAGUE

18/01 21:00 WIB Wolverhampton Wanderers VS Newcastle United 1 : 1
18/01 23:30 WIB Aston Villa VS Everton 2 : 0

ITALY SERIE A

18/01 18:30 WIB Parma Calcio VS Genoa 0 : 1
...
  </pre>

  <textarea id="inputText" placeholder="Paste seluruh teks prediksi di sini..."></textarea>

  <button id="generate">GENERATE KODE HTML</button>

  <div id="result">
    <strong>Hasil HTML (siap copy-paste):</strong><br><br>
    <pre id="output"></pre>
  </div>
</div>

<script>
  document.getElementById('generate').onclick = () => {
    const text = document.getElementById('inputText').value.trim();
    if (!text) {
      alert('Isi teks prediksinya dulu ya!');
      return;
    }

    const lines = text.split('\n').map(l => l.trim()).filter(l => l.length > 0);
    let html = '';
    let currentLeague = '';
    let inMatch = false;

    for (let line of lines) {
      // Jika baris uppercase panjang â†’ anggap nama liga
      if (line === line.toUpperCase() && line.length > 8 && !line.includes('VS') && !line.includes(':')) {
        if (currentLeague) {
          html += `  </div>\n</div>\n\n`;
        }
        currentLeague = line;
        html += `<!-- ${currentLeague} -->\n`;
        html += `<div class="prediksi-bola-league-container" style="margin-bottom: 25px; border-radius: 8px; overflow: hidden; border: 2px solid #28A745 !important;">\n`;
        html += `  <div class="prediksi-bola-league-header" style="background: linear-gradient(90deg, #1a1a1a, #28A745, #1a1a1a) !important; color: #ffffff !important; padding: 14px 12px !important; text-align: center !important; font-weight: bold !important; font-size: 17px !important; text-transform: uppercase !important; letter-spacing: 0.8px !important; border-bottom: 2px solid #28A745 !important; word-break: break-word !important; overflow-wrap: break-word !important; font-family: Arial, Helvetica, sans-serif !important;">\n`;
        html += `    ${currentLeague}\n`;
        html += `  </div>\n`;
        html += `  <div class="prediksi-bola-league-content" style="background: #0f0f0f !important; padding: 12px !important; color: #e0e0e0 !important; font-family: Arial, Helvetica, sans-serif !important;">\n`;
        inMatch = true;
        continue;
      }

      // Baris pertandingan
      if (inMatch && line.includes('VS') && line.includes(':')) {
        const parts = line.split(/\s+/);
        let time = '';
        let teamsAndScore = '';

        // Cari bagian waktu (biasanya format xx/xx xx:xx WIB)
        for (let i = 0; i < parts.length; i++) {
          if (parts[i].match(/^\d{1,2}\/\d{1,2}/) && parts[i+1]?.match(/^\d{2}:\d{2}/)) {
            time = parts[i] + ' ' + parts[i+1] + (parts[i+2] === 'WIB' ? ' WIB' : '');
            teamsAndScore = parts.slice(i+ (parts[i+2] === 'WIB' ? 3 : 2)).join(' ');
            break;
          }
        }

        if (!time) {
          time = '??/?? ??:?? WIB';
          teamsAndScore = line;
        }

        const matchParts = teamsAndScore.split('VS');
        let home = (matchParts[0] || '').trim();
        let rest = (matchParts[1] || '').trim();
        const scoreMatch = rest.match(/(.+?)\s*(\d\s*:\s*\d)$/);
        let away = rest;
        let score = '? : ?';

        if (scoreMatch) {
          away = scoreMatch[1].trim();
          score = scoreMatch[2].trim();
        }

        const isLast = lines.indexOf(line) === lines.length - 1 || 
                       (lines[lines.indexOf(line) + 1] || '').toUpperCase() === lines[lines.indexOf(line) + 1];
        const border = isLast ? '' : 'border-bottom: 1px solid #333333 !important;';

        html += `    <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 6px; ${border}">\n`;
        html += `      <div style="flex: 1; font-size: 15px;">${time}</div>\n`;
        html += `      <div style="flex: 2.5; text-align: center; font-weight: bold;">\n`;
        html += `        ${home} <span style="color: #28A745; margin: 0 8px;">VS</span> ${away}\n`;
        html += `      </div>\n`;
        html += `      <div style="flex: 1; text-align: right; color: #28A745; font-weight: bold; font-size: 16px;">${score}</div>\n`;
        html += `    </div>\n`;
      }
    }

    // Tutup div terakhir jika ada
    if (currentLeague) {
      html += `  </div>\n</div>\n`;
    }

    document.getElementById('output').textContent = html.trim();
    document.getElementById('result').style.display = 'block';
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  };
</script>
</body>
</html>